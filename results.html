<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ù„Ù†ØªØ§Ø¦Ø¬ - Ø®ÙˆØ§Ø±Ø²</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Tajawal', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .confetti {
            animation: confetti-fall 3s ease-in-out infinite;
        }
        @keyframes confetti-fall {
            0% { transform: translateY(-100vh) rotate(0deg); opacity: 1; }
            100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
        }
        .bounce-in {
            animation: bounce-in 0.6s ease-out;
        }
        @keyframes bounce-in {
            0% { transform: scale(0); opacity: 0; }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); opacity: 1; }
        }
    /* Khawariz Logo */
.kh-logo-box{position:relative;display:inline-flex;flex-direction:column;align-items:center;padding:7px 22px 6px;border:1.5px solid rgba(139,92,246,0.25);border-radius:6px;background:rgba(15,10,46,0.3)}
.kh-corner-tl,.kh-corner-br{position:absolute;width:8px;height:8px}
.kh-corner-tl{top:-1.5px;left:-1.5px;border-top:2px solid #a855f7;border-left:2px solid #a855f7;border-radius:2px 0 0 0}
.kh-corner-br{bottom:-1.5px;right:-1.5px;border-bottom:2px solid #a855f7;border-right:2px solid #a855f7;border-radius:0 0 2px 0}
.kh-logo-name{font-size:18px;font-weight:900;line-height:1;color:white}
.kh-logo-name .kha{background:linear-gradient(135deg,#c084fc,#a855f7);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.kh-logo-line{height:1.5px;margin-top:3px;width:100%;background:linear-gradient(90deg,#7c3aed,#a855f7,rgba(168,85,247,0.2));border-radius:1px}
.kh-logo-en{font-size:7px;letter-spacing:2.5px;color:rgba(168,85,247,0.45);font-weight:700;margin-top:2px}
</style>
</head>
<body class="min-h-screen flex items-center justify-center p-4">

    <div class="max-w-2xl w-full">
        
        <!-- Main Card -->
        <div class="bg-white rounded-3xl shadow-2xl p-8 bounce-in">
            
            <!-- Icon & Title -->
            <div class="text-center mb-8">
                <div class="text-8xl mb-4" id="resultEmoji">ğŸ‰</div>
                <h1 class="text-4xl font-bold text-gray-800 mb-2" id="resultTitle">Ø£Ø­Ø³Ù†Øª!</h1>
                <p class="text-xl text-gray-600" id="resultMessage">Ø£Ù†Øª Ù‚Ø§Ø¯Ø± Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø²ÙŠØ¯</p>
            </div>

            <!-- Score Display -->
            <div class="bg-gradient-to-r from-indigo-50 to-purple-50 rounded-2xl p-8 mb-6">
                <div class="text-center">
                    <p class="text-gray-600 text-lg mb-2">Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©</p>
                    <p class="text-6xl font-bold text-indigo-600 mb-4" id="finalScore">0/10</p>
                    <div class="inline-block bg-white px-6 py-3 rounded-full shadow-md">
                        <p class="text-3xl font-bold" id="finalPercentage" style="color: #667eea;">0%</p>
                    </div>
                </div>
            </div>

            <!-- Stats Grid -->
            <div class="grid grid-cols-2 gap-4 mb-6">
                <div class="bg-green-50 rounded-xl p-6 text-center border-2 border-green-200">
                    <p class="text-green-600 text-sm mb-2">Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª Ø§Ù„ØµØ­ÙŠØ­Ø©</p>
                    <p class="text-4xl font-bold text-green-600" id="correctAnswers">0</p>
                </div>
                <div class="bg-red-50 rounded-xl p-6 text-center border-2 border-red-200">
                    <p class="text-red-600 text-sm mb-2">Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª Ø§Ù„Ø®Ø§Ø·Ø¦Ø©</p>
                    <p class="text-4xl font-bold text-red-600" id="wrongAnswers">0</p>
                </div>
            </div>

            <!-- Motivational Quote -->
            <div class="bg-gradient-to-r from-amber-50 to-orange-50 rounded-xl p-6 mb-6 border-2 border-amber-200">
                <div class="flex items-start gap-3">
                    <span class="text-3xl">ğŸ’¡</span>
                    <p class="text-lg text-gray-700 leading-relaxed" id="motivationalQuote">
                        Ø§Ø³ØªÙ…Ø± ÙÙŠ Ø§Ù„ØªØ¯Ø±ÙŠØ¨ØŒ ÙƒÙ„ ÙŠÙˆÙ… Ø®Ø·ÙˆØ© Ù†Ø­Ùˆ Ø­Ù„Ù…Ùƒ!
                    </p>
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="space-y-3">
                <button onclick="tryAgain()" class="w-full bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white py-4 rounded-xl font-bold text-lg transition shadow-lg hover:shadow-xl">
                    ğŸ”„ Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø«Ø§Ù†ÙŠØ©
                </button>
                <button onclick="goToDashboard()" class="w-full bg-white hover:bg-gray-50 text-gray-700 border-2 border-gray-200 py-4 rounded-xl font-bold text-lg transition">
                    ğŸ  Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…
                </button>
                <button onclick="reviewMistakes()" class="w-full bg-white hover:bg-gray-50 text-red-600 border-2 border-red-200 py-4 rounded-xl font-bold text-lg transition">
                    ğŸ“– Ø±Ø§Ø¬Ø¹ Ø£Ø®Ø·Ø§Ø¦Ùƒ
                </button>
            </div>

        </div>

        <!-- Footer Tip -->
        <div class="text-center mt-6">
            <p class="text-white text-sm opacity-90">
                ğŸ’ª Ø§Ù„ØªØ¯Ø±ÙŠØ¨ Ø§Ù„Ù…Ø³ØªÙ…Ø± Ù‡Ùˆ Ø³Ø± Ø§Ù„ØªÙÙˆÙ‚
            </p>
        </div>

    </div>

    <script>
        // Get results from localStorage
        const results = JSON.parse(localStorage.getItem('quiz_results') || '{}');
        
        const correct = results.correct || 0;
        const wrong = results.wrong || 0;
        const total = results.total || 10;
        const percentage = results.percentage || 0;

        // Motivational messages based on performance
        const messages = {
            excellent: {
                emoji: 'ğŸ†',
                title: 'Ù…Ù…ØªØ§Ø² Ø¬Ø¯Ø§Ù‹!',
                quote: 'Ø£Ù†Øª ÙÙŠ Ø·Ø±ÙŠÙ‚Ùƒ Ù„Ù„ØªÙÙˆÙ‚ØŒ Ø§Ø³ØªÙ…Ø± Ø¹Ù„Ù‰ Ù‡Ø°Ø§ Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø±Ø§Ø¦Ø¹!'
            },
            veryGood: {
                emoji: 'ğŸŒŸ',
                title: 'Ø£Ø­Ø³Ù†Øª!',
                quote: 'Ø£Ø¯Ø§Ø¡ Ø±Ø§Ø¦Ø¹! Ù…Ø¹ Ø§Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„ØªØ¯Ø±ÙŠØ¨ Ø³ØªØµÙ„ Ù„Ù„Ù‚Ù…Ø©'
            },
            good: {
                emoji: 'ğŸ’ª',
                title: 'Ø¬ÙŠØ¯!',
                quote: 'Ø¨Ø¯Ø§ÙŠØ© Ø¬ÙŠØ¯Ø©ØŒ Ø§Ø³ØªÙ…Ø± ÙÙŠ Ø§Ù„ØªØ¯Ø±ÙŠØ¨ ÙˆØ³ØªØªØ­Ø³Ù† Ø£ÙƒØ«Ø±'
            },
            needsWork: {
                emoji: 'ğŸ“š',
                title: 'Ù…Ø¬Ù‡ÙˆØ¯ Ø·ÙŠØ¨!',
                quote: 'Ù„Ø§ ØªØ³ØªØ³Ù„Ù…ØŒ ÙƒÙ„ Ø®Ø·Ø£ Ù‡Ùˆ ÙØ±ØµØ© Ù„Ù„ØªØ¹Ù„Ù… ÙˆØ§Ù„ØªØ·ÙˆØ±'
            }
        };

        let message;
        if (percentage >= 90) message = messages.excellent;
        else if (percentage >= 75) message = messages.veryGood;
        else if (percentage >= 60) message = messages.good;
        else message = messages.needsWork;

        // Update UI
        document.getElementById('resultEmoji').textContent = message.emoji;
        document.getElementById('resultTitle').textContent = message.title;
        document.getElementById('resultMessage').textContent = message.quote;
        document.getElementById('finalScore').textContent = `${correct}/${total}`;
        document.getElementById('finalPercentage').textContent = percentage + '%';
        document.getElementById('correctAnswers').textContent = correct;
        document.getElementById('wrongAnswers').textContent = wrong;
        document.getElementById('motivationalQuote').textContent = message.quote;

        // Set percentage color
        const percentageElement = document.getElementById('finalPercentage');
        if (percentage >= 90) percentageElement.style.color = '#059669'; // green
        else if (percentage >= 75) percentageElement.style.color = '#2563eb'; // blue
        else if (percentage >= 60) percentageElement.style.color = '#d97706'; // orange
        else percentageElement.style.color = '#dc2626'; // red

        function tryAgain() {
            window.location.href = 'select-section.html';
        }

        function goToDashboard() {
            localStorage.removeItem('quiz_results');
            window.location.href = 'dashboard.html';
        }

        function reviewMistakes() {
            window.location.href = 'mistakes.html';
        }

        // Clear results after 1 hour
        setTimeout(() => {
            localStorage.removeItem('quiz_results');
        }, 3600000);
    </script>

</body>
</html>
